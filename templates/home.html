{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="mb-6">
    <h1 class="text-2xl md:text-3xl font-semibold text-gray-900 mb-1">Dashboard</h1>
    <p class="text-sm text-gray-500">Überblick für Makler. Kundenanzahl basiert bereits auf echten Daten.</p>
</div>

<div class="grid gap-4 md:grid-cols-3 mb-6">
    <div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm">
        <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1">Kunden gesamt</p>
        <p class="text-3xl font-semibold text-gray-900">{{ customer_total }}</p>
        <p class="mt-1 text-xs text-gray-400">Anzahl der Kunden, die diesem Makler zugeordnet sind.</p>
    </div>
    <div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm">
        <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1">Offene Dokumente</p>
        <p class="text-3xl font-semibold text-gray-900">{{ open_documents_total }}</p>
        <p class="mt-1 text-xs text-gray-400">
            Anzahl der Dokumente dieses Maklers, die noch nicht abgeschlossen sind (Entwurf oder versendet).
        </p>
    </div>
    <div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm">
        <p class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1">Fällige Reminders</p>
        <p class="text-3xl font-semibold text-gray-900">0</p>
        <p class="mt-1 text-xs text-gray-400">Reminder-Job kommt in Phase 5 hinzu.</p>
    </div>
</div>

<div class="grid gap-4 md:grid-cols-2">
    <div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-semibold text-gray-900 mb-2">Nächste Schritte</h2>
        <ul class="text-sm text-gray-600 space-y-1 list-disc list-inside">
            <li>Dokumenten-Templates & Upload (Phase 3) einführen.</li>
            <li>Autofill-Engine mit KI-Mapping (Phase 4) anbinden.</li>
            <li>Reminder-System mit Brevo (Phase 5) aktivieren.</li>
        </ul>
    </div>
    <div class="rounded-xl border border-gray-200 bg-white p-4 shadow-sm">
        <h2 class="text-sm font-semibold text-gray-900 mb-2">Systemstatus</h2>
        <p class="text-sm text-gray-600">
            Sie sind als <span class="font-medium">{{ user.email }}</span> eingeloggt.
        </p>
        <p class="text-sm text-gray-600 mt-1">
            Rolle: <span class="font-medium">{{ user.get_role_display }}</span>
        </p>
        <p class="text-xs text-gray-400 mt-3">
            Hinweis: Kundenverwaltung ist aktiv; Dokumente und Reminders folgen in den nächsten Phasen.
        </p>
    </div>
</div>
{% endblock %}

